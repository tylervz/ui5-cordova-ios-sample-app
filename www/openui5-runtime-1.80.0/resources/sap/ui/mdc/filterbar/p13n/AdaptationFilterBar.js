/*
 * ! OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/mdc/filterbar/p13n/TableContainer","sap/ui/mdc/filterbar/p13n/FilterColumnLayout","sap/ui/mdc/filterbar/FilterBarBase","sap/ui/mdc/filterbar/FilterBarBaseRenderer","sap/ui/mdc/p13n/FlexUtil","sap/ui/fl/apply/api/FlexRuntimeInfoAPI","sap/base/util/merge"],function(T,F,a,b,c,d,m){"use strict";var A=a.extend("sap.ui.mdc.filterbar.p13n.AdaptationFilterBar",{metadata:{properties:{adaptationControl:{type:"object"}}},renderer:b});A.prototype.init=function(){a.prototype.init.apply(this,arguments);this.bPersistValues=true;};A.prototype.setLiveMode=function(l,s){a.prototype.setLiveMode.apply(this,arguments);if(l===false){this._oConditionModel.detachPropertyChange(this._handleConditionModelPropertyChange,this);this.getParent().getButtons()[0].attachPress(function(){var C=this._getModelConditions(this._getConditionModel());C=m(this._getConditionModel().getAllConditions(),C);this._getAdaptationController().createConditionChanges(C).then(function(){this.triggerSearch();}.bind(this));}.bind(this));this.getParent().getButtons()[1].attachPress(function(){this._setXConditions(this.getAdaptationControl().getFilterConditions(),true);}.bind(this));}return this;};A.prototype._getWaitForChangesPromise=function(){return d.waitForChanges({element:this.getAdaptationControl()});};A.prototype._getAdaptationController=function(){this._oAdaptationController=a.prototype._getAdaptationController.apply(this,arguments);this._oAdaptationController.setLiveMode(this.getLiveMode());this._oAdaptationController.setAfterChangesCreated(function(o,C){this.rerouteChangesBeforeAppliance(C);c.handleChanges(C);}.bind(this));return this._oAdaptationController;};A.prototype.rerouteChangesBeforeAppliance=function(C){C.forEach(function(e){e.selectorElement=this.getAdaptationControl();}.bind(this));};A.prototype._createInnerLayout=function(){this._cLayoutItem=F;this._oFilterBarLayout=new T();this._oFilterBarLayout.getInner().addStyleClass("sapUiMdcFilterBarBaseAFLayout");this.setAggregation("layout",this._oFilterBarLayout,true);};return A;});
