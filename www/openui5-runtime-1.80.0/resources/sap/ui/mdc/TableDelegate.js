/*
 * ! OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./table/Column","sap/m/Text",'sap/ui/core/Core','sap/ui/mdc/util/FilterUtil','sap/ui/mdc/condition/FilterConverter'],function(C,T,a,F,b){"use strict";var c={fetchProperties:function(t){return Promise.resolve([]);},updateBindingInfo:function(m,M,B){if(!m){return;}if(M&&B){B.path=B.path||M.collectionPath||"/"+M.collectionName;B.model=B.model||M.model;}if(!B){B={};}var f=a.byId(m.getFilter()),d=m._getFilterEnabled(),e;if(d){e=m.getConditions();var g=b.getFilterInfo(e);B.filters=g;}else if(f){e=f.getConditions();var p=f.getPropertyInfoSet?f.getPropertyInfoSet():null;if(e){var o=F.getFilterInfo(f,e,p);B.filters=o.filters;}}},rebindTable:function(m,r){if(m&&m._oTable&&r){m._oTable.bindRows(r);}},_createColumn:function(p,t){return this.fetchProperties(t).then(function(P){var o=P.find(function(d){return d.name===p;});if(!o){return null;}return this._createColumnTemplate(o).then(function(d){var e=this._getColumnInfo(o);e.template=d;return new C(t.getId()+"--"+o.name,e);}.bind(this));}.bind(this));},getFilterDelegate:function(p){return{name:"sap/ui/mdc/FilterBarDelegate",payload:p};},beforeAddColumnFlex:function(p,t,P){if(t.getModel){return this._createColumn(p,t);}return Promise.resolve(null);},afterRemoveColumnFlex:function(m,t,p){return Promise.resolve(true);},_getColumnInfo:function(p){return{header:p.label||p.name,dataProperties:[p.name],hAlign:p.align,width:p.width};},_getColumnTemplateInfo:function(p){return{text:{path:p.path||p.name},textAlign:p.align};},_createColumnTemplate:function(p){return Promise.resolve(new T(this._getColumnTemplateInfo(p)));}};return c;});
