/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./AnalyticsCloudContentRenderer","./BaseContent","sap/ui/integration/library","sap/ui/core/HTML","sap/ui/integration/util/BindingResolver"],function(A,B,l,H,a){"use strict";var b=l.AreaType;var c=B.extend("sap.ui.integration.cards.AnalyticsCloudContent",{renderer:A});c.prototype.init=function(){B.prototype.init.apply(this,arguments);var i=this.getId()+"-highchartContainer";this._oHighchartContainer=new H(i,{content:"<div id="+i+" style='height:100%; width:100%'></div>"});this.setAggregation("_content",this._oHighchartContainer);this.fireEvent("_actionContentReady");};c.prototype.exit=function(){B.prototype.exit.apply(this,arguments);if(this._oHighchart){this._oHighchart.destroy();this._oHighchart=null;}if(this._oHighchartContainer){this._oHighchartContainer.destroy();this._oHighchartContainer=null;}};c.prototype.setConfiguration=function(C){B.prototype.setConfiguration.apply(this,arguments);this._oActions.setAreaType(b.Content);this._oActions.attach(C,this);};c.prototype.onAfterRendering=function(){this._createHighchart();};c.prototype._createHighchart=function(){var C=this.getParent(),o=this.getConfiguration(),d=this.getBindingContext(),p,e;if(!C.isReady()){C.attachEventOnce("_ready",this._createHighchart,this);return;}if(!window.Highcharts){this._handleError("Highcharts library is not available. Could not initialize AnalyticsCloud card content.");return;}if(d){p=d.getPath();}e=a.resolveValue(o.options,this.getModel(),p);this._oHighchart=new window.Highcharts.Chart(this._oHighchartContainer.getId(),e);};return c;});
